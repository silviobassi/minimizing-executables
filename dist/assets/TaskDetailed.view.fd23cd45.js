import{b9 as ce,ba as se,bb as de,bc as me,j as o,r as z,g as ue,m as ge,f as c,i as A,k as fe,_ as V,w as he,q as O,cT as ye,p as ve,c as T,cU as Se,b3 as be,X as xe,cV as Ce,Z as Ie,Y as Ee,ao as Ne,R as De,C as X,an as R,cl as Te,aq as h,S as B,bK as D,am as q,B as U,P as ze,u as we,ab as Be,ad as Ae,ac as Me,af as pe,ae as Pe}from"./index.02d7c6f9.js";import{E as He}from"./EmployeesResponsible.2a3e03d6.js";import{f as L}from"./index.d7c688b0.js";import{u as Re}from"./useUsersAssignment.4ec553c2.js";import"./generateFormatterData.22098d6b.js";import"./index.8c7b72a7.js";var Le=function(n){ce(r,n);var e=se(r);function r(){var a;return de(this,r),a=e.apply(this,arguments),a.state={error:void 0,info:{componentStack:""}},a}return me(r,[{key:"componentDidCatch",value:function(t,i){this.setState({error:t,info:i})}},{key:"render",value:function(){var t=this.props,i=t.message,l=t.description,s=t.children,d=this.state,m=d.error,f=d.info,y=f&&f.componentStack?f.componentStack:null,v=typeof i>"u"?(m||"").toString():i,u=typeof l>"u"?y:l;return m?o(Y,{type:"error",message:v,description:o("pre",{children:u})}):s}}]),r}(z.exports.Component);const Oe=Le;var P=function(e,r,a,t,i){return c({backgroundColor:e,border:t.lineWidth+"px "+t.lineType+" "+r},i+"-icon",{color:a})},_e=function(e){var r,a,t,i=e.componentCls,l=e.motionDurationSlow,s=e.marginXS,d=e.marginSM,m=e.fontSize,f=e.fontSizeLG,y=e.lineHeight,v=e.borderRadiusLG,u=e.motionEaseInOutCirc,b=e.alertIconSizeLG,C=e.colorText,I=e.paddingContentVerticalSM,E=e.alertPaddingHorizontal,w=e.paddingMD,N=e.paddingContentHorizontalLG;return t={},c(t,i,A(A({},fe(e)),(r={position:"relative",display:"flex",alignItems:"center",padding:I+"px "+E+"px",wordWrap:"break-word",borderRadius:v,"&&-rtl":{direction:"rtl"}},c(r,i+"-content",{flex:1,minWidth:0}),c(r,i+"-icon",{marginInlineEnd:s,lineHeight:0}),c(r,"&-description",{display:"none",fontSize:m,lineHeight:y}),c(r,"&-message",{color:C}),c(r,"&&-motion-leave",{overflow:"hidden",opacity:1,transition:"max-height "+l+" "+u+", opacity "+l+" "+u+`,
        padding-top `+l+" "+u+", padding-bottom "+l+" "+u+`,
        margin-bottom `+l+" "+u}),c(r,"&&-motion-leave-active",{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}),r))),c(t,i+"-with-description",(a={alignItems:"flex-start",paddingInline:N,paddingBlock:w},c(a,i+"-icon",{marginInlineEnd:d,fontSize:b,lineHeight:0}),c(a,i+"-message",{display:"block",marginBottom:s,color:C,fontSize:f}),c(a,i+"-description",{display:"block"}),a)),c(t,i+"-banner",{marginBottom:0,border:"0 !important",borderRadius:0}),t},Fe=function(e){var r=e.componentCls,a=e.colorSuccess,t=e.colorSuccessBorder,i=e.colorSuccessBg,l=e.colorWarning,s=e.colorWarningBorder,d=e.colorWarningBg,m=e.colorError,f=e.colorErrorBorder,y=e.colorErrorBg,v=e.colorInfo,u=e.colorInfoBorder,b=e.colorInfoBg;return c({},r,{"&-success":P(i,t,a,e,r),"&-info":P(b,u,v,e,r),"&-warning":P(d,s,l,e,r),"&-error":A(A({},P(y,f,m,e,r)),c({},r+"-description > pre",{margin:0,padding:0}))})},$e=function(e){var r,a=e.componentCls,t=e.iconCls,i=e.motionDurationMid,l=e.marginXS,s=e.fontSizeIcon,d=e.colorIcon,m=e.colorIconHover;return c({},a,(r={},c(r,"&-action",{marginInlineStart:l}),c(r,a+"-close-icon",c({marginInlineStart:l,padding:0,overflow:"hidden",fontSize:s,lineHeight:s+"px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},t+"-close",{color:d,transition:"color "+i,"&:hover":{color:m}})),c(r,"&-close-text",{color:d,transition:"color "+i,"&:hover":{color:m}}),r))},We=function(e){return[_e(e),Fe(e),$e(e)]};const je=ue("Alert",function(n){var e=n.fontSizeHeading3,r=ge(n,{alertIconSizeLG:e,alertPaddingHorizontal:12});return[We(r)]});var Ge=globalThis&&globalThis.__rest||function(n,e){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(n);t<a.length;t++)e.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(n,a[t])&&(r[a[t]]=n[a[t]]);return r},Ve={success:xe,info:Ce,error:Ie,warning:Ee},Xe=function(e){var r=e.icon,a=e.prefixCls,t=e.type,i=Ve[t]||null;return r?Se(r,o("span",{className:a+"-icon",children:r}),function(){return{className:O(a+"-icon",c({},r.props.className,r.props.className))}}):z.exports.createElement(i,{className:a+"-icon"})},qe=function(e){var r=e.isClosable,a=e.closeText,t=e.prefixCls,i=e.closeIcon,l=e.handleClose;return r?o("button",{type:"button",onClick:l,className:t+"-close-icon",tabIndex:0,children:a?o("span",{className:t+"-close-text",children:a}):i}):null},K=function(e){var r,a=e.description,t=e.prefixCls,i=e.message,l=e.banner,s=e.className,d=s===void 0?"":s,m=e.style,f=e.onMouseEnter,y=e.onMouseLeave,v=e.onClick,u=e.afterClose,b=e.showIcon,C=e.closable,I=e.closeText,E=e.closeIcon,w=E===void 0?o(be,{}):E,N=e.action,S=Ge(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),H=z.exports.useState(!1),_=V(H,2),F=_[0],Z=_[1],J=z.exports.useRef(),$=z.exports.useContext(he),Q=$.getPrefixCls,k=$.direction,g=Q("alert",t),ee=je(g),W=V(ee,2),ne=W[0],re=W[1],oe=function(x){var p;Z(!0),(p=S.onClose)===null||p===void 0||p.call(S,x)},ae=function(){var x=S.type;return x!==void 0?x:l?"warning":"info"},te=I?!0:C,j=ae(),G=l&&b===void 0?!0:b,ie=O(g,g+"-"+j,(r={},c(r,g+"-with-description",!!a),c(r,g+"-no-icon",!G),c(r,g+"-banner",!!l),c(r,g+"-rtl",k==="rtl"),r),d,re),le=ye(S);return ne(o(ve,{visible:!F,motionName:g+"-motion",motionAppear:!1,motionEnter:!1,onLeaveStart:function(x){return{maxHeight:x.offsetHeight}},onLeaveEnd:u,children:function(M){var x=M.className,p=M.style;return T("div",{ref:J,"data-show":!F,className:O(ie,x),style:A(A({},m),p),onMouseEnter:f,onMouseLeave:y,onClick:v,role:"alert",...le,children:[G?o(Xe,{description:a,icon:S.icon,prefixCls:g,type:j}):null,T("div",{className:g+"-content",children:[i?o("div",{className:g+"-message",children:i}):null,a?o("div",{className:g+"-description",children:a}):null]}),N?o("div",{className:g+"-action",children:N}):null,o(qe,{isClosable:!!te,closeText:I,prefixCls:g,closeIcon:w,handleClose:oe})]})}}))};K.ErrorBoundary=Oe;const Y=K;function Ue(n){var r,a,t,i,l,s,d,m,f,y,v,u,b,C,I,E,w,N;function e(){var S;return(S=n==null?void 0:n.assignment)==null?void 0:S.employeesResponsible.length}return o(Ne,{title:"Detalhes da Tarefa",children:T(De,{justify:"space-between",gutter:60,children:[T(X,{xs:24,xl:12,children:[o(R,{orientation:"left",children:"DADOS DA TAREFA"}),o(Te,{level:4,style:{marginBottom:20,textDecoration:"underline"},children:(r=n==null?void 0:n.assignment)==null?void 0:r.title}),T(h,{column:1,bordered:!0,size:"small",children:[o(h.Item,{label:"Data do In\xEDcio",children:o(B,{direction:"horizontal",children:o(D,{color:"blue",children:L(new Date((a=n==null?void 0:n.assignment)==null?void 0:a.startDate),"dd/MM/yyyy")})})}),o(h.Item,{label:"Prazo para Conclus\xE3o",children:o(B,{direction:"horizontal",children:o(D,{color:"red",children:L(new Date((t=n==null?void 0:n.assignment)==null?void 0:t.deadline),"dd/MM/yyyy")})})}),o(h.Item,{label:"Data da Finaliza\xE7\xE3o",children:o(B,{direction:"horizontal",children:o(D,{color:"green",children:L(new Date((i=n==null?void 0:n.assignment)==null?void 0:i.startDate),"dd/MM/yyyy")})})}),o(h.Item,{label:"Tipo da Tarefa",children:(l=n==null?void 0:n.assignment)==null?void 0:l.nature}),o(h.Item,{label:"Setor",children:(m=(d=(s=n==null?void 0:n.assignment)==null?void 0:s.workStation)==null?void 0:d.sector)==null?void 0:m.name}),o(h.Item,{label:"Esta\xE7\xE3o de Trabalho",children:(y=(f=n==null?void 0:n.assignment)==null?void 0:f.workStation)==null?void 0:y.name}),o(h.Item,{label:"Localiza\xE7\xE3o da Esta\xE7\xE3o de Trabalho",children:(u=(v=n==null?void 0:n.assignment)==null?void 0:v.workStation)==null?void 0:u.localization}),o(h.Item,{label:"Ponto espec\xEDfico da tarefa",children:(b=n==null?void 0:n.assignment)==null?void 0:b.specificPoint}),o(h.Item,{label:"Finalizada?",children:o(B,{direction:"horizontal",children:(C=n==null?void 0:n.assignment)!=null&&C.completed?o(D,{color:"blue",children:"Sim"}):o(D,{color:"red",children:"N\xE3o"})})}),o(h.Item,{label:"Aprovada?",children:o(B,{direction:"horizontal",children:(I=n==null?void 0:n.assignment)!=null&&I.approved?o(D,{color:"blue",children:"Sim"}):o(D,{color:"red",children:"N\xE3o"})})})]})]}),T(X,{xs:24,lg:12,children:[o(R,{orientation:"left",children:"RESPONS\xC1VEIS PELA TAREFA"}),e()?o(q,{to:`/tarefa/${(E=n==null?void 0:n.assignment)==null?void 0:E.id}/desatribuicao`,children:o(U,{type:"primary",danger:!0,style:{marginBottom:20},children:"Desatribuir"})}):"",e()?(w=n==null?void 0:n.assignment)==null?void 0:w.employeesResponsible.map((S,H)=>T(ze,{children:[o(He,{isAssignScreen:!1,employeeResponsible:S},H),o(R,{})]})):o(Y,{action:o(B,{direction:"vertical",children:o(q,{to:`/tarefa/${(N=n.assignment)==null?void 0:N.id}/atribuicao`,children:o(U,{type:"primary",children:"Atribuir Colaboradores"})})}),message:"Colaboradores",description:"N\xE3o h\xE1 nenhum colaborador atribu\xEDdo \xE0 tarefa.",type:"info",showIcon:!0})]})]})})}function en(){we("Detalhes da tarefa");const n=Be(),{assignment:e,fetchAssignment:r,notFound:a}=Re(),[t,i]=z.exports.useState(!1);return z.exports.useEffect(()=>{isNaN(Number(n.assignmentId))||r(Number(n.assignmentId)).catch(l=>{var s;if(((s=l==null?void 0:l.data)==null?void 0:s.status)===403){i(!0);return}throw l})},[r,n.assignmentId]),t?o(Ae,{children:"Voc\xEA n\xE3o pode executar essa opera\xE7\xE3o!"}):isNaN(Number(n.assignmentId))?o(Me,{to:"/tarefas"}):a?o(pe,{children:"tarefa n\xE3o encontrada"}):e?o(Ue,{assignment:e}):o(Pe,{})}export{en as default};
