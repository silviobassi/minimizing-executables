import{r as c,a as N,b as L,j as e,bJ as u,ao as f,c as m,c1 as M,n as T,R as b,C as r,I,E as R}from"./index.02d7c6f9.js";import{B as S}from"./ButtonForm.54d1a658.js";import{F as i}from"./index.d0d82724.js";import{I as y}from"./index.06ccc6ec.js";import{S as v}from"./SaveOutlined.f4c4007c.js";import{S as C}from"./StopOutlined.b94033b4.js";function z(a){const[d,p]=c.exports.useState("material"),[n]=i.useForm();N();const[D,t]=c.exports.useState(),E=L(),O={material:e(i.Item,{label:"Manipula\xE7\xE3o*",name:"manipulation",rules:[{required:!0,message:"O tipo de manipula\xE7\xE3o \xE9 obrigat\xF3rio"},{type:"enum",enum:["TRANSMUT\xC1VEL","IMUT\xC1VEL"],message:"O tipo de manipula\xE7\xE3o precisa ser: TRANSMUT\xC1VEL ou IMUT\xC1VEL"}],children:e(u,{size:"large",placeholder:"Selecione a manipula\xE7\xE3o",optionFilterProp:"children",options:[{label:"TRANSMUT\xC1VEL",value:"TRANSMUT\xC1VEL"},{label:"IMUT\xC1VEL",value:"IMUT\xC1VEL"}]})}),equipamento:e(i.Item,{label:"Tamanho*",name:"bulk",rules:[{required:!0,message:"O tipo de volume \xE9 obrigat\xF3rio"},{type:"enum",enum:["PEQUENO","M\xC9DIO","GRANDE"],message:"O tipo de manipula\xE7\xE3o precisa ser: PEQUENO, M\xC9DIO ou GRANDE"}],children:e(u,{size:"large",placeholder:"Selecione o Tamanho",optionFilterProp:"children",options:[{label:"PEQUENO",value:"PEQUENO"},{label:"M\xC9DIO",value:"M\xC9DIO"},{label:"GRANDE",value:"GRANDE"}]})})},U=l=>{p(l.toLowerCase())};return c.exports.useEffect(()=>{var l;p((l=a.supply)==null?void 0:l.supplyType.toLowerCase())},[]),e(f,{title:a.title,children:m(i,{layout:"vertical",form:n,initialValues:a.supply,onFinish:async l=>{var x,g,h,A;const o={...l,supplyDescription:{measure:parseFloat((x=l.supplyDescription)==null?void 0:x.measure),measureUnitType:(g=l.supplyDescription)==null?void 0:g.measureUnitType,quantity:(h=l.supplyDescription)==null?void 0:h.quantity,packing:(A=l.supplyDescription)==null?void 0:A.packing}};if(t(!0),d==="material"){if(a.supply)return a.onUpdateMaterial&&a.onUpdateMaterial(o).finally(()=>{t(!1)});await M.createSupplyMaterial(o).then(s=>{T.success({message:"Sucesso",description:`Recurso ${s==null?void 0:s.name}  criado com sucesso`}),E("/recursos")}).finally(()=>{t(!1),n.resetFields()})}else{if(a.supply)return a.onUpdateEquipment&&a.onUpdateEquipment(o).finally(()=>{t(!1),n.resetFields()});await M.createSupplyEquipment(o).then(s=>{T.success({message:"Sucesso",description:`Recurso ${s==null?void 0:s.name}  criado com sucesso`}),E("/recursos")}).finally(()=>{t(!1),n.resetFields()})}},children:[m(b,{justify:"space-between",gutter:30,children:[e(r,{xs:24,xl:8,children:e(i.Item,{label:"Nome",name:"name",rules:[{required:!0,message:"O nome \xE9 obrigat\xF3rio"},{max:50,message:"O nome n\xE3o pode ter mais de 50 caracteres"}],children:e(I,{placeholder:"e.g.: nome",size:"large"})})}),e(r,{xs:24,xl:8,children:e(i.Item,{name:"supplyType",label:"Tipo do Recurso",rules:[{required:!0,message:"O tipo de recurso \xE9 obrigat\xF3rio"},{type:"enum",enum:["MATERIAL","EQUIPAMENTO"],message:"O tipo do recurso precisa ser: MATERIAL ou EQUIPAMENTO"}],children:e(u,{onChange:U,size:"large",placeholder:"Selecione o Tipo de Recurso",optionFilterProp:"children",options:[{label:"MATERIAL",value:"MATERIAL"},{label:"EQUIPAMENTO",value:"EQUIPAMENTO"}]})})}),e(r,{xs:24,xl:8,children:O[d]})]}),m(b,{justify:"space-between",gutter:30,children:[e(r,{xs:24,xl:6,children:e(i.Item,{label:"Embalagem*",name:["supplyDescription","packing"],rules:[{max:70,message:"A embalagem n\xE3o pode ter mais de 70 caracteres"}],children:e(I,{placeholder:"e.g.: embalagem",size:"large"})})}),e(r,{xs:24,xl:6,children:e(i.Item,{label:"Quantidade*",name:["supplyDescription","quantity"],rules:[{required:!0,message:"A quantidade \xE9 obrigat\xF3ria"}],children:e(y,{placeholder:"e.g.: 20",size:"large",style:{width:"100%"},min:1})})}),e(r,{xs:24,xl:6,children:e(i.Item,{label:"Medida",name:["supplyDescription","measure"],children:e(y,{size:"large",style:{width:"100%"}})})}),e(r,{xs:24,xl:6,children:e(i.Item,{label:"Unidade de Medida*",name:["supplyDescription","measureUnitType"],rules:[{required:!0,message:"A unidade de medida \xE9 obrigat\xF3ria"},{type:"enum",enum:["UNIDADE","ML","LITRO","M2","M3","KG","TONELADA"],message:"A unidade de medida precisa ser: UNIDADE, ML, LITRO, M2, M3, KG ou TONELADA"}],children:e(u,{size:"large",placeholder:"Selecione a Unidade de Medida",optionFilterProp:"children",options:[{label:"UNIDADE",value:"UNIDADE"},{label:"ML",value:"ML"},{label:"LITRO",value:"LITRO"},{label:"M2",value:"M2"},{label:"M3",value:"M3"},{label:"KG",value:"KG"},{label:"TONELADA",value:"TONELADA"}]})})})]}),e(S,{loading:D,icon:{create:a.supply?e(R,{}):e(v,{}),cancel:e(C,{})},label:{save:a.supply?"EDITAR":"CRIAR",cancel:"CANCELAR"},link:{cancel:"/recursos"}})]})})}export{z as S};
