import{a as d,r as l,b as f,j as a,ad as S,ao as x,c as E,b$ as g,n as F,I as h,E as p}from"./index.02d7c6f9.js";import{B as v}from"./ButtonForm.54d1a658.js";import{F as n}from"./index.d0d82724.js";import{S as A}from"./SaveOutlined.f4c4007c.js";import{S as I}from"./StopOutlined.b94033b4.js";function O(e){var c;const[s]=n.useForm(),{userAuth:o}=d(),[m,r]=l.exports.useState(!1),u=f();return(c=o==null?void 0:o.role)!=null&&c.permissions.some(t=>t==="EDIT_SECTORS")?a(S,{children:"Voc\xEA n\xE3o tem permiss\xE3o para executar essa opera\xE7\xE3o!"}):(l.exports.useEffect(()=>{s.resetFields()},[e.sector]),a(x,{title:e.title,children:E(n,{layout:"vertical",form:s,initialValues:e.sector,onFinish:async t=>{if(r(!0),e.sector)return e.onUpdate&&e.onUpdate(t).finally(()=>{r(!1)});await g.createSector(t).then(i=>{F.success({message:"Sucesso",description:`Setor ${i==null?void 0:i.name} criado com sucesso`}),u("/setores")}).finally(()=>{r(!1),s.resetFields()})},children:[a(n.Item,{label:"Nome:*",name:"name",rules:[{required:!0,message:"o campo \xE9 obrigat\xF3rio"}],children:a(h,{placeholder:"e.g.:nome do setor",size:"large"})}),a(v,{loading:m,icon:{create:e.sector?a(p,{}):a(A,{}),cancel:a(I,{})},label:{save:e.sector?"EDITAR":"CRIAR",cancel:"CANCELAR"},link:{cancel:"/setores"}})]})}))}export{O as S};
