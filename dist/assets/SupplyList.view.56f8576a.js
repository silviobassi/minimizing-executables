import{r as p,a as B,e as L,b as O,j as e,ad as _,c as r,P as u,S as o,al as j,B as n,an as P,ao as V,I as E,ap as q,aq as l,R as F,T as c,am as m,E as C,ar as R,n as b,as as I,bg as T,ah as w,af as M,bM as K,u as Q}from"./index.02d7c6f9.js";import{u as W}from"./useSupplies.351759c8.js";import{u as G}from"./useSupply.29efbfa0.js";function H(){var v,S;const{supplies:a,fetchSupplies:h,fetching:k}=W(),{removeSupply:x}=G(),[y,$]=p.exports.useState(0);B();const[g,D]=p.exports.useState(),[N,z]=p.exports.useState(!1),{xs:f}=L(),A=O();if(p.exports.useEffect(()=>{h({page:y,size:4,sort:["asc"],supplyName:g}).catch(t=>{var i;if(((i=t==null?void 0:t.data)==null?void 0:i.status)===403){z(!0);return}throw t})},[h,y,g]),N)return e(_,{children:"Voc\xEA n\xE3o pode visualizar esses dados!"});const U=(t,i)=>({filterDropdown:({})=>e(M,{children:e(E,{type:"text",placeholder:`Buscar ${i||t}`,onChange:s=>{D(s.target.value)}})}),filterIcon:s=>e(K,{style:{color:s?"#0099ff":void 0}})});return r(u,{children:[r(o,{style:{width:"100%"},direction:f?"vertical":"horizontal",size:"middle",children:[e(j,{onReload:h}),e(n,{style:f?{width:"100%"}:{display:"flex"},type:"primary",size:"large",onClick:t=>A("/recursos/criar"),children:"CRIAR RECURSO"})]}),e(P,{}),r(V,{title:"Lista de Recursos",children:[f&&e(E,{onChange:t=>D(t.target.value),placeholder:"Buscar por Nome",type:"text",style:{width:"100%",marginBottom:30,marginTop:20}}),e(q,{loading:k,rowKey:"id",dataSource:(v=a==null?void 0:a._embedded)==null?void 0:v.supplies,columns:[{title:"RECURSOS",responsive:["xs"],render(t){return e(o,{direction:"vertical",children:r(l,{column:1,size:"small",children:[e(l.Item,{label:"Nome",children:r(F,{children:[" ",t.name]})}),e(l.Item,{label:"Embalagem",children:t.supplyDescription.packing}),e(l.Item,{label:"Medida",children:`${t.supplyDescription.measure} ${t.supplyDescription.measureUnitType}`}),e(l.Item,{label:"Total",children:`${t.supplyDescription.total} ${t.supplyDescription.measureUnitType}`}),r(l.Item,{label:"A\xE7\xF5es",children:[e(c,{title:"Editar",children:e(m,{to:`/recursos/editar/${t.id}`,children:e(n,{type:"link",icon:e(C,{})})})}),e(R,{popConfirmTitle:"Remover Recurso?",popConfirmContent:"Deseja mesmo remover este recurso?",onConfirm:async()=>{await x(Number(t.id)),b.success({message:"Sucesso",description:`Recurso ${t.name}  removido com sucesso`})},children:e(c,{title:"Excluir",placement:"bottom",children:e(n,{type:"link",children:e(I,{})})})}),e(c,{title:"Ver Detalhes",children:r(m,{to:`/recursos/${t.id}/detalhes`,children:[" ",e(n,{type:"link",icon:e(T,{})})]})})]})]})})}},{title:"ID",dataIndex:["id"],align:"center",width:60,responsive:["sm"]},{title:"Nome",dataIndex:"name",fixed:"left",responsive:["sm"],...U("name","Nome")},{title:"Embalagem",dataIndex:["supplyDescription","packing"],fixed:"left",responsive:["sm"]},{title:"Quantidade",dataIndex:["supplyDescription","quantity"],fixed:"left",responsive:["sm"],render(t,i){var s;return e(u,{children:e(o,{children:(s=i.supplyDescription)==null?void 0:s.quantity})})}},{title:"Medida Unit\xE1ria",dataIndex:["supplyDescription","measure"],width:200,responsive:["sm"],render(t,i){var s,d;return e(u,{children:r(o,{children:[(s=i.supplyDescription)==null?void 0:s.measure,e(w.Text,{underline:!0,children:(d=i.supplyDescription)==null?void 0:d.measureUnitType})]})})}},{title:"Total",dataIndex:["supplyDescription","total"],width:200,responsive:["sm"],render(t,i){var s,d;return e(u,{children:r(o,{children:[(s=i.supplyDescription)==null?void 0:s.total,e(w.Text,{underline:!0,children:(d=i.supplyDescription)==null?void 0:d.measureUnitType})]})})}},{title:"A\xE7\xF5es",dataIndex:"id",align:"center",width:200,responsive:["sm"],render:(t,i)=>r(o,{size:"small",children:[e(c,{title:"Editar",children:e(m,{to:`/recursos/editar/${i.id}`,children:e(n,{type:"link",icon:e(C,{})})})}),e(R,{popConfirmTitle:"Remover Recurso?",popConfirmContent:"Deseja mesmo remover este recurso?",onConfirm:async()=>{await x(Number(i.id)),b.success({message:"Sucesso",description:`Recurso ${i.name}  removido com sucesso`})},children:e(c,{title:"Excluir",placement:"bottom",children:e(n,{type:"link",children:e(I,{})})})}),e(c,{title:"Ver Detalhes",children:r(m,{to:`/recursos/${i.id}/detalhes`,children:[" ",e(n,{type:"link",icon:e(T,{})})]})})]})}],pagination:{onChange:t=>$(t-1),total:(S=a==null?void 0:a.page)==null?void 0:S.totalElements,pageSize:4}})]})]})}function Z(){return Q("Lista de Recursos"),e(H,{})}export{Z as default};
