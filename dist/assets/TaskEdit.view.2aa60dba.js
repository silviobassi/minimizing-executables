import{h as n}from"./moment.9709ab41.js";import{u as E,r,ab as x,b as l,j as s,ac as N,ad as A,ae as b,cD as h,n as T}from"./index.02d7c6f9.js";import{u as D}from"./useUsersAssignment.4ec553c2.js";import{E as I}from"./ElementNotFound.5e8cb0bb.js";import{T as k}from"./TaskForm.565f213a.js";import"./pt_BR.91dd4312.js";import"./useWorkStations.313dde62.js";import"./ButtonForm.54d1a658.js";import"./index.d0d82724.js";import"./SaveOutlined.f4c4007c.js";import"./StopOutlined.b94033b4.js";function z(){E("Edi\xE7\xE3o de Tarefa");const[u,c]=r.exports.useState(!1),t=x(),{assignment:o,fetchAssignment:i,notFound:d}=D(),f=l();r.exports.useEffect(()=>{t.assignmentId&&!isNaN(Number(t.assignmentId))&&i(Number(t.assignmentId)).catch(e=>{var a;if(((a=e==null?void 0:e.data)==null?void 0:a.status)===403){c(!0);return}throw e})},[i,t.assignmentId]);const m=r.exports.useCallback(e=>{var a;return{...e,startDate:n(e.startDate),deadline:n(e.deadline),nature:(e==null?void 0:e.nature[0].toUpperCase())+((a=e==null?void 0:e.nature)==null?void 0:a.substr(1).toLowerCase())}},[]);if(isNaN(Number(t.assignmentId)))return s(N,{to:"/tarefas"});if(d)return s(I,{description:"A Tarefa n\xE3o foi encontrada!"});if(u)return s(A,{children:"Voc\xEA n\xE3o tem permiss\xE3o para executar essa opera\xE7\xE3o!"});async function p(e){await h.updateExistingAssignment(e,Number(t.assignmentId)).then(a=>{T.success({message:`Tarefa ${a==null?void 0:a.title} atualizada com sucesso.`}),f("/tarefas")})}return o?s(k,{title:"Edi\xE7\xE3o de Tarefa",onUpdate:p,assignment:m(o)}):s(b,{})}export{z as default};
