import{b as B,r as n,a as L,e as W,j as e,ad as k,c as s,P as h,S as v,al as O,B as i,an as j,ao as F,I as C,ap as $,aq as r,R as w,T as l,E as S,ar as y,n as D,as as T,af as P,bM as _,u as H}from"./index.02d7c6f9.js";import{u as V}from"./useWorkStation.bd9f4072.js";import{u as q}from"./useWorkStations.313dde62.js";function K(){var b,g;const c=B(),[I,A]=n.exports.useState(!1),[u,x]=n.exports.useState(),{workStations:o,fetchWorkStations:d,fetching:z}=q();L();const{xs:m}=W(),{removeWorkStation:E}=V(),[f,R]=n.exports.useState(0);if(n.exports.useEffect(()=>{d({page:f,size:4,sort:["asc"],workStationName:u}).catch(a=>{var t;if(((t=a==null?void 0:a.data)==null?void 0:t.status)===403){A(!0);return}throw a})},[d,f,u]),I)return e(k,{children:"Voc\xEA n\xE3o pode visualizar esses dados!"});const N=(a,t)=>({filterDropdown:({})=>e(P,{children:e(C,{type:"text",placeholder:`Buscar ${t||a}`,onChange:p=>{x(p.target.value)}})}),filterIcon:p=>e(_,{style:{color:p?"#0099ff":void 0}})});return s(h,{children:[s(v,{style:{width:"100%"},direction:m?"vertical":"horizontal",size:"middle",children:[e(O,{onReload:d}),e(i,{style:m?{width:"100%"}:{display:"flex"},type:"primary",size:"large",onClick:a=>c("/estacao-de-trabalho/criar"),children:"CRIAR ESTA\xC7\xC3O DE TRABALHO"})]}),e(j,{}),s(F,{title:"Lista de Esta\xE7\xF5es de Trabalho",children:[m&&e(C,{onChange:a=>x(a.target.value),placeholder:"Buscar por Nome",type:"text",style:{width:"100%",marginBottom:30,marginTop:20}}),e($,{loading:z,rowKey:"id",dataSource:(b=o==null?void 0:o._embedded)==null?void 0:b.workStations,columns:[{title:"ESTA\xC7\xD5ES DE TRABALHO",responsive:["xs"],render(a){var t;return e(v,{direction:"vertical",children:s(r,{column:1,size:"small",children:[e(r.Item,{label:"Nome",children:s(w,{children:[" ",a.name]})}),e(r.Item,{label:"Setor",children:(t=a.sector)==null?void 0:t.name}),e(r.Item,{label:"Localiza\xE7\xE3o",children:a.localization}),e(r.Item,{label:"A\xE7\xF5es",children:s(h,{children:[e(l,{title:"Editar",children:e(i,{type:"link",shape:"circle",icon:e(S,{}),onClick:()=>c(`/estacao-de-trabalho/editar/${a.id}`)})}),e(y,{popConfirmTitle:"Remover Esta\xE7\xE3o de Trabalho?",popConfirmContent:"Deseja mesmo remover esta esta\xE7\xE3o de trabalho?",onConfirm:async()=>{await E(Number(a.id)),D.success({message:"Sucesso",description:`Esta\xE7\xE3o de trabalho ${a.name}  removida com sucesso`})},children:e(l,{title:"Excluir",placement:"bottom",children:e(i,{type:"link",children:e(T,{})})})})]})})]})})}},{title:"ID",dataIndex:"id",width:60,responsive:["sm"]},{title:"Nome",dataIndex:"name",responsive:["sm"],...N("name","Nome")},{title:"localiza\xE7\xE3o",dataIndex:"localization",responsive:["sm"]},{title:"Setor",dataIndex:["sector","name"],responsive:["sm"]},{title:"A\xE7\xF5es",dataIndex:"actions",align:"center",width:200,responsive:["sm"],render:(a,t)=>s(h,{children:[e(l,{title:"Editar",children:e(i,{type:"link",shape:"circle",icon:e(S,{}),onClick:()=>c(`/estacao-de-trabalho/editar/${t.id}`)})}),e(y,{popConfirmTitle:"Remover Esta\xE7\xE3o de Trabalho?",popConfirmContent:"Deseja mesmo remover esta esta\xE7\xE3o de trabalho?",onConfirm:async()=>{await E(Number(t.id)),D.success({message:"Sucesso",description:`Esta\xE7\xE3o de trabalho ${t.name}  removida com sucesso`})},children:e(l,{title:"Excluir",placement:"bottom",children:e(i,{type:"link",children:e(T,{})})})})]})}],pagination:{onChange:a=>R(a-1),total:(g=o==null?void 0:o.page)==null?void 0:g.totalElements,pageSize:4}})]})]})}function Q(){return H("Lista de Esta\xE7\xF5es de Trabalho"),e(K,{})}export{Q as default};
