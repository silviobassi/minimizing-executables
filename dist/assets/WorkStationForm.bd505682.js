import{c$ as g,a as p,r as u,b as F,j as e,ad as A,ao as I,c as m,d0 as O,n as v,R as z,C as c,I as x,bJ as C,E as h}from"./index.02d7c6f9.js";import{h as w}from"./isAuthenticated.9fb6dc16.js";import{B as R}from"./ButtonForm.54d1a658.js";import{F as i}from"./index.d0d82724.js";import{S as T}from"./SaveOutlined.f4c4007c.js";import{S as W}from"./StopOutlined.b94033b4.js";function q(s){const[o]=i.useForm(),{sectors:l,fetchSectors:d}=g(),{userAuth:E}=p(),[f,n]=u.exports.useState(),S=F();if(w("EDIT_WOK_STATIONS",E))return e(A,{children:"Voc\xEA n\xE3o tem permiss\xE3o para executar essa opera\xE7\xE3o!"});u.exports.useEffect(()=>{d({}),o.resetFields()},[d,s.workStation]);function b(){var a;const r=[];return(a=l==null?void 0:l._embedded)==null||a.sectors.map(t=>{r.push({label:t==null?void 0:t.name,value:t==null?void 0:t.id})}),r}return e(I,{title:s.title,children:m(i,{layout:"vertical",form:o,initialValues:s.workStation,onFinish:async r=>{if(n(!0),s.workStation)return s.onUpdate&&s.onUpdate(r).finally(()=>{n(!1)});await O.createWorkStation(r).then(a=>{v.success({message:"Sucesso",description:`Esta\xE7\xE3o de trabalho ${a==null?void 0:a.name}  criada com sucesso`}),S("/estacoes-de-trabalho")}).finally(()=>{n(!1),o.resetFields()})},children:[m(z,{justify:"space-between",gutter:40,children:[e(c,{xs:24,xl:8,children:e(i.Item,{label:"Nome:*",name:"name",rules:[{required:!0,message:"O nome da Esta\xE7\xE3o de Trabalho \xE9 obrigat\xF3rio"}],children:e(x,{placeholder:"e.g: nome",size:"large"})})}),e(c,{xs:24,xl:8,children:e(i.Item,{label:"Localiza\xE7\xE3o:*",name:"localization",rules:[{required:!0,message:"A localiza\xE7\xE3o \xE9 obrigat\xF3ria"}],children:e(x,{placeholder:"e.g: localiza\xE7\xE3o",size:"large"})})}),e(c,{xs:24,xl:8,children:e(i.Item,{label:"Selecione o Setor:*",name:["sector","id"],rules:[{required:!0,message:"O Setor \xE9 obrigat\xF3rio"}],children:e(C,{size:"large",showSearch:!0,placeholder:"Selecione a Esta\xE7\xE3o de Trabalho",optionFilterProp:"children",filterOption:(r,a)=>{var t;return((t=a==null?void 0:a.label)!=null?t:"").toLowerCase().includes(r.toLowerCase())},options:b()})})})]}),e(R,{loading:f,icon:{create:s.workStation?e(h,{}):e(T,{}),cancel:e(W,{}),edit:e(h,{})},label:{save:s.workStation?"EDITAR":"CRIAR",cancel:"CANCELAR"},link:{cancel:"/estacoes-de-trabalho"}})]})})}export{q as W};
